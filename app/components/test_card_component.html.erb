<div class="bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105 overflow-hidden group">
  <%= link_to test_path, 
      class: "block",
      data: { 
        test_slug: test.slug,
        test_title: test.title,
        test_category: test.category
      } do %>
    
    <!-- 썸네일 이미지 (1:1 비율) -->
    <div class="aspect-square overflow-hidden bg-gray-100">
      <% if safe_thumbnail_url && has_thumbnail? %>
        <%= image_tag safe_thumbnail_url, 
            alt: test.title,
            class: "w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",
            loading: "lazy" %>
      <% else %>
        <!-- CSS 플레이스홀더 -->
        <div class="w-full h-full <%= placeholder_style %> flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
          <div class="text-center text-white">
            <div class="text-4xl mb-2"><%= category_emoji %></div>
            <div class="text-sm font-medium opacity-90">
              <%= test.category %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    
    <!-- 카드 내용 -->
    <div class="p-4">
      <!-- 테스트 제목 -->
      <h3 class="font-semibold text-gray-900 text-base mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors">
        <%= test.title %>
      </h3>
      
      <!-- 참여자 수 -->
      <div class="flex items-center justify-between">
        <p class="text-sm text-gray-600">
          <%= safe_participants_count %>
        </p>
        
        <!-- 카테고리 뱃지 -->
        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
          <%= test.category %>
        </span>
      </div>
      
      <!-- 시작하기 버튼 힌트 -->
      <div class="mt-3 pt-3 border-t border-gray-100">
        <div class="flex items-center justify-center text-blue-600 text-sm font-medium group-hover:text-blue-700">
          <span>테스트 시작하기</span>
          <svg class="ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </div>
      </div>
    </div>
  <% end %>
</div>