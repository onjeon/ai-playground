// Tes Toxic Trait dalam Hubungan
// Kenali toxic trait kamu untuk hubungan yang lebih sehat!

export const questions = [
  {
    id: 1,
    question: "Saat pasangan tidak balas chat lama...",
    options: [
      { text: "Sabar, mungkin lagi sibuk", type: "A" },
      { text: "Sedikit curious tapi tidak overthink", type: "B" },
      { text: "Cek status online-nya terus", type: "C" },
      { text: "Kesal dan passive aggressive pas dia balas", type: "D" },
    ],
  },
  {
    id: 2,
    question: "Kalau ada masalah sama pasangan...",
    options: [
      { text: "Langsung obrolin dengan baik", type: "A" },
      { text: "Tunggu waktu yang tepat untuk bahas", type: "B" },
      { text: "Silent treatment sampai dia sadar", type: "C" },
      { text: "Ungkit masalah lama sekalian", type: "D" },
    ],
  },
  {
    id: 3,
    question: "Soal pasangan punya teman lawan jenis...",
    options: [
      { text: "No problem, trust penuh", type: "A" },
      { text: "Okay selama dalam batas wajar", type: "B" },
      { text: "Sedikit uncomfortable tapi coba terima", type: "C" },
      { text: "Tidak suka, prefer dia avoid", type: "D" },
    ],
  },
  {
    id: 4,
    question: "Ekspektasi kamu ke pasangan...",
    options: [
      { text: "Reasonable dan flexible", type: "A" },
      { text: "Jelas tapi negotiable", type: "B" },
      { text: "Tinggi karena aku juga kasih yang terbaik", type: "C" },
      { text: "Harus perfect, aku ga minta banyak kok", type: "D" },
    ],
  },
  {
    id: 5,
    question: "Kalau pasangan dapat achievement...",
    options: [
      { text: "Super proud dan support 100%", type: "A" },
      { text: "Senang dan ikut rayakan", type: "B" },
      { text: "Happy tapi sedikit compare dengan diri sendiri", type: "C" },
      { text: "Merasa tertinggal atau kurang", type: "D" },
    ],
  },
  {
    id: 6,
    question: "Password HP pasangan...",
    options: [
      { text: "Tidak perlu tau, trust issues itu toxic", type: "A" },
      { text: "Tau tapi jarang pakai", type: "B" },
      { text: "Harus tau untuk jaga-jaga", type: "C" },
      { text: "Sesekali check chat-nya", type: "D" },
    ],
  },
  {
    id: 7,
    question: "Cara kamu express ketidakpuasan...",
    options: [
      { text: "Komunikasi langsung dan jelas", type: "A" },
      { text: "Kasih hints dulu sebelum tegas", type: "B" },
      { text: "Expect dia notice tanpa harus bilang", type: "C" },
      { text: "Moodyan dan bikin dia tebak-tebakan", type: "D" },
    ],
  },
  {
    id: 8,
    question: "Soal kesalahan masa lalu pasangan...",
    options: [
      { text: "Sudah dimaafkan, tidak diungkit", type: "A" },
      { text: "Forgive tapi kadang teringat", type: "B" },
      { text: "Masih suka sindir kalau lagi kesal", type: "C" },
      { text: "Jadi amunisi kalau bertengkar", type: "D" },
    ],
  },
  {
    id: 9,
    question: "Me time vs quality time sama pasangan...",
    options: [
      { text: "Balance, dua-duanya penting", type: "A" },
      { text: "Mostly bareng tapi respect alone time", type: "B" },
      { text: "Prefer selalu bareng atau at least connected", type: "C" },
      { text: "Guilty kalau enjoy time tanpa dia", type: "D" },
    ],
  },
  {
    id: 10,
    question: "Saat bertengkar, kamu cenderung...",
    options: [
      { text: "Stay calm dan cari solusi", type: "A" },
      { text: "Emosi tapi coba kontrol", type: "B" },
      { text: "Bring up unrelated issues", type: "C" },
      { text: "Threaten relationship atau silent treatment", type: "D" },
    ],
  },
  {
    id: 11,
    question: "Kalau pasangan butuh space...",
    options: [
      { text: "Kasih dengan supportive", type: "A" },
      { text: "Agak bingung tapi coba respect", type: "B" },
      { text: "Worried dan overthink", type: "C" },
      { text: "Feel rejected dan insecure", type: "D" },
    ],
  },
  {
    id: 12,
    question: "Jujur, toxic trait terbesar kamu...",
    options: [
      { text: "Honestly tidak terlalu toxic", type: "A" },
      { text: "Kadang overthink atau jealous sedikit", type: "B" },
      { text: "Controlling atau possessive", type: "C" },
      { text: "Passive aggressive atau manipulatif", type: "D" },
    ],
  },
];

export const results = {
  A: {
    type: "A",
    title: "Healthy Relationship Material",
    emoji: "üíö",
    description: "Kamu punya emotional intelligence yang tinggi! Trust, komunikasi, dan respect adalah fondasi relationship-mu. Toxic traits minimal dan kamu aware untuk terus improve.",
    traits: ["Emotionally intelligent", "Trusting", "Communicative", "Secure"],
    strengths: ["Healthy relationships", "Good communicator", "Self-aware"],
    weaknesses: ["Kadang terlalu idealis", "Expect sama level dari pasangan"],
    tips: ["Keep it up!", "Help pasangan grow juga"],
  },
  B: {
    type: "B",
    title: "Work in Progress",
    emoji: "üîß",
    description: "Kamu punya sedikit toxic traits tapi aware dan terus berusaha improve. Kadang jealous atau overthink, tapi masih dalam batas normal dan bisa dikontrol.",
    traits: ["Self-aware", "Improving", "Human", "Trying"],
    strengths: ["Acknowledge weaknesses", "Willing to work on it", "Realistic"],
    weaknesses: ["Occasional jealousy", "Sometimes overthink"],
    tips: ["Keep working on it", "Communicate insecurities dengan pasangan"],
  },
  C: {
    type: "C",
    title: "Toxic Tendencies Alert",
    emoji: "‚ö†Ô∏è",
    description: "Ada beberapa toxic patterns yang perlu kamu address! Possessive, controlling, atau passive aggressive tendencies bisa damage hubungan kalau tidak dikelola.",
    traits: ["Controlling", "Possessive", "Insecure", "Needs validation"],
    strengths: ["Deeply caring", "Invested in relationship", "Passionate"],
    weaknesses: ["Trust issues", "Controlling behavior", "Overthinking"],
    tips: ["Work on insecurities", "Trust is a choice", "Consider therapy"],
  },
  D: {
    type: "D",
    title: "Toxic Trait Red Zone",
    emoji: "üö®",
    description: "Beberapa toxic traits kamu cukup concerning! Manipulasi, silent treatment, dan tidak healthy patterns perlu serious attention. Self-reflection dan growth diperlukan.",
    traits: ["Manipulative", "Passive aggressive", "Insecure", "Unhealthy patterns"],
    strengths: ["Passionate", "Strong feelings", "Recognizing through this test"],
    weaknesses: ["Toxic communication", "Trust issues", "Emotional manipulation"],
    tips: ["Seek professional help", "Deep self-reflection needed", "Work on attachment style"],
  },
};

export function calculateResult(answers: number[]): typeof results.A {
  const typeCount: Record<string, number> = { A: 0, B: 0, C: 0, D: 0 };
  answers.forEach((answerIndex, questionIndex) => {
    const question = questions[questionIndex];
    if (question && question.options[answerIndex]) {
      const type = question.options[answerIndex].type;
      typeCount[type] = (typeCount[type] || 0) + 1;
    }
  });
  const dominantType = Object.entries(typeCount).sort((a, b) => b[1] - a[1])[0][0];
  return results[dominantType as keyof typeof results];
}
