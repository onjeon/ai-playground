// ë‹¤í¬ íŠ¸ë¼ì´ì–´ë“œ í…ŒìŠ¤íŠ¸ - ë‚˜ë¥´ì‹œì‹œì¦˜, ë§ˆí‚¤ì•„ë²¨ë¦¬ì¦˜, ì‚¬ì´ì½”íŒ¨ì‹œ ì¸¡ì •
// ì°¸ê³ : Short Dark Triad (SD3) ê¸°ë°˜ìœ¼ë¡œ ì¬êµ¬ì„±

export const questions = [
  // ë‚˜ë¥´ì‹œì‹œì¦˜ (Narcissism) - 1~9
  {
    id: 1,
    question: "ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒë“¤ë³´ë‹¤ íŠ¹ë³„í•œ ì¡´ì¬ë¼ê³  ëŠë‚€ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 2 },
      { text: "ë³´í†µì´ë‹¤", narcissism: 3 },
      { text: "ê·¸ë ‡ë‹¤", narcissism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", narcissism: 5 },
    ],
  },
  {
    id: 2,
    question: "ë‚˜ëŠ” ì£¼ëª©ë°›ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 2 },
      { text: "ë³´í†µì´ë‹¤", narcissism: 3 },
      { text: "ê·¸ë ‡ë‹¤", narcissism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", narcissism: 5 },
    ],
  },
  {
    id: 3,
    question: "ë‚˜ëŠ” ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ì˜í–¥ë ¥ì„ í–‰ì‚¬í•˜ëŠ” ê²ƒì„ ì¦ê¸´ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 2 },
      { text: "ë³´í†µì´ë‹¤", narcissism: 3 },
      { text: "ê·¸ë ‡ë‹¤", narcissism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", narcissism: 5 },
    ],
  },
  {
    id: 4,
    question: "ë‚˜ëŠ” ì¹­ì°¬ë°›ëŠ” ê²ƒì„ ë‹¹ì—°í•˜ê²Œ ì—¬ê¸´ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 2 },
      { text: "ë³´í†µì´ë‹¤", narcissism: 3 },
      { text: "ê·¸ë ‡ë‹¤", narcissism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", narcissism: 5 },
    ],
  },
  {
    id: 5,
    question: "ë‚˜ëŠ” ë‚´ ì™¸ëª¨ë‚˜ ëŠ¥ë ¥ì— ìë¶€ì‹¬ì´ í¬ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 2 },
      { text: "ë³´í†µì´ë‹¤", narcissism: 3 },
      { text: "ê·¸ë ‡ë‹¤", narcissism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", narcissism: 5 },
    ],
  },
  {
    id: 6,
    question: "ë‚´ ì—…ì ì´ë‚˜ ì„±ê³¼ê°€ ì¸ì •ë°›ì§€ ëª»í•˜ë©´ í™”ê°€ ë‚œë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", narcissism: 2 },
      { text: "ë³´í†µì´ë‹¤", narcissism: 3 },
      { text: "ê·¸ë ‡ë‹¤", narcissism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", narcissism: 5 },
    ],
  },

  // ë§ˆí‚¤ì•„ë²¨ë¦¬ì¦˜ (Machiavellianism) - 7~12
  {
    id: 7,
    question: "ëª©ì ì„ ìœ„í•´ì„œë¼ë©´ ë‹¤ë¥¸ ì‚¬ëŒì„ ì´ìš©í•˜ëŠ” ê²ƒë„ ê´œì°®ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 2 },
      { text: "ë³´í†µì´ë‹¤", machiavellianism: 3 },
      { text: "ê·¸ë ‡ë‹¤", machiavellianism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", machiavellianism: 5 },
    ],
  },
  {
    id: 8,
    question: "ë‚˜ëŠ” ì¥ê¸°ì ì¸ ê³„íšì„ ì„¸ìš°ê³  ì „ëµì ìœ¼ë¡œ í–‰ë™í•œë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 2 },
      { text: "ë³´í†µì´ë‹¤", machiavellianism: 3 },
      { text: "ê·¸ë ‡ë‹¤", machiavellianism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", machiavellianism: 5 },
    ],
  },
  {
    id: 9,
    question: "ì¤‘ìš”í•œ ì •ë³´ëŠ” ë‚˜ë§Œ ì•Œê³  ìˆëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 2 },
      { text: "ë³´í†µì´ë‹¤", machiavellianism: 3 },
      { text: "ê·¸ë ‡ë‹¤", machiavellianism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", machiavellianism: 5 },
    ],
  },
  {
    id: 10,
    question: "ë•Œë¡œëŠ” ê±°ì§“ë§ì´ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•œë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 2 },
      { text: "ë³´í†µì´ë‹¤", machiavellianism: 3 },
      { text: "ê·¸ë ‡ë‹¤", machiavellianism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", machiavellianism: 5 },
    ],
  },
  {
    id: 11,
    question: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ì•½ì ì„ íŒŒì•…í•´ ë‘ë©´ ìœ ìš©í•˜ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 2 },
      { text: "ë³´í†µì´ë‹¤", machiavellianism: 3 },
      { text: "ê·¸ë ‡ë‹¤", machiavellianism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", machiavellianism: 5 },
    ],
  },
  {
    id: 12,
    question: "ë‚˜ëŠ” ì‚¬ëŒë“¤ì˜ ì‹¬ë¦¬ë¥¼ ì½ê³  ì¡°ì¢…í•˜ëŠ” ê²ƒì— ëŠ¥ìˆ™í•˜ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", machiavellianism: 2 },
      { text: "ë³´í†µì´ë‹¤", machiavellianism: 3 },
      { text: "ê·¸ë ‡ë‹¤", machiavellianism: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", machiavellianism: 5 },
    ],
  },

  // ì‚¬ì´ì½”íŒ¨ì‹œ (Psychopathy) - 13~18
  {
    id: 13,
    question: "ë‚˜ëŠ” ìœ„í—˜í•˜ê³  ìŠ¤ë¦´ ìˆëŠ” í™œë™ì„ ì¦ê¸´ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 2 },
      { text: "ë³´í†µì´ë‹¤", psychopathy: 3 },
      { text: "ê·¸ë ‡ë‹¤", psychopathy: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", psychopathy: 5 },
    ],
  },
  {
    id: 14,
    question: "ë‹¤ë¥¸ ì‚¬ëŒì´ ìƒì²˜ë°›ì•„ë„ í¬ê²Œ ì‹ ê²½ ì“°ì´ì§€ ì•Šì„ ë•Œê°€ ìˆë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 2 },
      { text: "ë³´í†µì´ë‹¤", psychopathy: 3 },
      { text: "ê·¸ë ‡ë‹¤", psychopathy: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", psychopathy: 5 },
    ],
  },
  {
    id: 15,
    question: "ë‚˜ëŠ” ê²°ê³¼ë¥¼ ìƒê°í•˜ì§€ ì•Šê³  ì¶©ë™ì ìœ¼ë¡œ í–‰ë™í•  ë•Œê°€ ë§ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 2 },
      { text: "ë³´í†µì´ë‹¤", psychopathy: 3 },
      { text: "ê·¸ë ‡ë‹¤", psychopathy: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", psychopathy: 5 },
    ],
  },
  {
    id: 16,
    question: "ë³µìˆ˜ëŠ” ë¹ ë¥´ê³  í™•ì‹¤í•˜ê²Œ í•´ì•¼ í•œë‹¤ê³  ìƒê°í•œë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 2 },
      { text: "ë³´í†µì´ë‹¤", psychopathy: 3 },
      { text: "ê·¸ë ‡ë‹¤", psychopathy: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", psychopathy: 5 },
    ],
  },
  {
    id: 17,
    question: "ê·œì¹™ì€ ì–´ê¸°ê¸° ìœ„í•´ ì¡´ì¬í•œë‹¤ê³  ëŠë‚„ ë•Œê°€ ìˆë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 2 },
      { text: "ë³´í†µì´ë‹¤", psychopathy: 3 },
      { text: "ê·¸ë ‡ë‹¤", psychopathy: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", psychopathy: 5 },
    ],
  },
  {
    id: 18,
    question: "ë‚˜ëŠ” ì£„ì±…ê°ì„ ì˜ ëŠë¼ì§€ ì•ŠëŠ”ë‹¤",
    options: [
      { text: "ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 1 },
      { text: "ê·¸ë ‡ì§€ ì•Šë‹¤", psychopathy: 2 },
      { text: "ë³´í†µì´ë‹¤", psychopathy: 3 },
      { text: "ê·¸ë ‡ë‹¤", psychopathy: 4 },
      { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", psychopathy: 5 },
    ],
  },
];

export interface DarkTriadResult {
  type: string;
  title: string;
  emoji: string;
  description: string;
  narcissismScore: number;
  narcissismLevel: string;
  machiavellianismScore: number;
  machiavellianismLevel: string;
  psychopathyScore: number;
  psychopathyLevel: string;
  totalPercentage: number;
  dominantTrait: string;
  strengths: string[];
  warnings: string[];
  advice: string[];
  compatibility: string[];
  incompatibility: string[];
}

// ì ìˆ˜ì— ë”°ë¥¸ ë ˆë²¨ íŒì •
function getLevel(score: number, maxScore: number): string {
  const percentage = (score / maxScore) * 100;
  if (percentage <= 30) return 'ë‚®ìŒ';
  if (percentage <= 50) return 'ë³´í†µ';
  if (percentage <= 70) return 'ë†’ìŒ';
  return 'ë§¤ìš° ë†’ìŒ';
}

// ê²°ê³¼ ìœ í˜• ì •ì˜
const resultTypes: Record<string, Omit<DarkTriadResult, 'narcissismScore' | 'narcissismLevel' | 'machiavellianismScore' | 'machiavellianismLevel' | 'psychopathyScore' | 'psychopathyLevel' | 'totalPercentage' | 'dominantTrait'>> = {
  light: {
    type: 'light',
    title: 'ë¼ì´íŠ¸ ì†Œìš¸',
    emoji: 'ğŸ˜‡',
    description: 'ë‹¹ì‹ ì€ ë‹¤í¬ íŠ¸ë¼ì´ì–´ë“œ ì„±í–¥ì´ ë§¤ìš° ë‚®ìŠµë‹ˆë‹¤. ê³µê°ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ê³  íƒ€ì¸ì„ ë°°ë ¤í•˜ëŠ” ë”°ëœ»í•œ ì„±ê²©ì˜ ì†Œìœ ìì…ë‹ˆë‹¤. ë„ë•ì  ê¸°ì¤€ì´ ëª…í™•í•˜ê³  ì •ì§í•¨ì„ ì¤‘ìš”ì‹œí•©ë‹ˆë‹¤.',
    strengths: ['ë†’ì€ ê³µê°ëŠ¥ë ¥', 'ì‹ ë¢°ì„± ìˆëŠ” ì¸ê°„ê´€ê³„', 'ë„ë•ì  íŒë‹¨ë ¥', 'ë”°ëœ»í•œ ë¦¬ë”ì‹­'],
    warnings: ['ì§€ë‚˜ì¹œ í¬ìƒ ì£¼ì˜', 'ë•Œë¡œëŠ” ë‹¨í˜¸í•¨ í•„ìš”', 'ìê¸° ë³´í˜¸ ëŠ¥ë ¥ í‚¤ìš°ê¸°'],
    advice: ['ì ì ˆí•œ ê²½ê³„ ì„¤ì •í•˜ê¸°', 'ê°€ë”ì€ ìì‹ ì„ ìš°ì„ ì‹œí•˜ê¸°', 'ë‹¨í˜¸í•˜ê²Œ ê±°ì ˆí•˜ëŠ” ì—°ìŠµ'],
    compatibility: ['ê³µê°í˜•', 'í˜‘ë ¥í˜•', 'ë´‰ì‚¬í˜•'],
    incompatibility: ['ê·¹ë‹¨ì  ë§ˆí‚¤ì•„ë²¨ë¦¬ìŠ¤íŠ¸', 'ë°˜ì‚¬íšŒì  ì„±í–¥'],
  },
  narcissist: {
    type: 'narcissist',
    title: 'ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸',
    emoji: 'ğŸ‘‘',
    description: 'ë‹¹ì‹ ì€ ë‚˜ë¥´ì‹œì‹œì¦˜ ì„±í–¥ì´ ë‘ë“œëŸ¬ì§‘ë‹ˆë‹¤. ìì‹ ê°ì´ ë„˜ì¹˜ê³  ë¦¬ë”ì‹­ì´ ê°•í•˜ì§€ë§Œ, ë•Œë¡œëŠ” íƒ€ì¸ì˜ ê°ì •ì„ ê°„ê³¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê±´ê°•í•œ ìì¡´ê°ê³¼ ê³¼ë„í•œ ìê¸°ì• ì˜ ê· í˜•ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    strengths: ['ê°•í•œ ìì‹ ê°', 'ì¹´ë¦¬ìŠ¤ë§ˆ ìˆëŠ” ë¦¬ë”ì‹­', 'ëª©í‘œ ì§€í–¥ì ', 'ì„¤ë“ë ¥ ìˆëŠ” ì†Œí†µ'],
    warnings: ['íƒ€ì¸ì˜ ê°ì • ë¬´ì‹œ ìœ„í—˜', 'ë¹„íŒì— ë¯¼ê°í•¨', 'ê´€ê³„ì—ì„œì˜ ì¼ë°©ì  ì†Œí†µ'],
    advice: ['íƒ€ì¸ì˜ í”¼ë“œë°± ê²½ì²­í•˜ê¸°', 'ê²¸ì†í•¨ ì—°ìŠµí•˜ê¸°', 'íŒ€ì›ë“¤ ì¸ì •í•˜ê¸°'],
    compatibility: ['ì¶”ì¢…ìí˜•', 'ì„œí¬í„°í˜•', 'ì•ˆì •í˜•'],
    incompatibility: ['ë˜ ë‹¤ë¥¸ ë‚˜ë¥´ì‹œì‹œìŠ¤íŠ¸', 'ë°˜í•­í˜•'],
  },
  machiavellian: {
    type: 'machiavellian',
    title: 'ì „ëµê°€',
    emoji: 'ğŸ­',
    description: 'ë‹¹ì‹ ì€ ë§ˆí‚¤ì•„ë²¨ë¦¬ì¦˜ ì„±í–¥ì´ ë†’ìŠµë‹ˆë‹¤. ì „ëµì  ì‚¬ê³ ì™€ ëª©í‘œ ë‹¬ì„± ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ì§€ë§Œ, ë•Œë¡œëŠ” ìˆ˜ë‹¨ê³¼ ë°©ë²•ì„ ê°€ë¦¬ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ¤ë¦¬ì  ê²½ê³„ë¥¼ ì¸ì‹í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
    strengths: ['ë›°ì–´ë‚œ ì „ëµì  ì‚¬ê³ ', 'ëª©í‘œ ë‹¬ì„± ëŠ¥ë ¥', 'ìƒí™© íŒŒì•… ëŠ¥ë ¥', 'í˜‘ìƒ ëŠ¥ë ¥'],
    warnings: ['ì‹ ë¢° ê´€ê³„ ì†ìƒ ìœ„í—˜', 'ì¥ê¸°ì  í‰íŒ ê´€ë¦¬', 'ê³ ë¦½ë  ìˆ˜ ìˆìŒ'],
    advice: ['ì§„ì •ì„± ìˆëŠ” ê´€ê³„ ë§ºê¸°', 'ìœˆ-ìœˆ ì „ëµ ì¶”êµ¬', 'ë‹¨ê¸° ì´ìµë³´ë‹¤ ì¥ê¸° ê´€ê³„'],
    compatibility: ['ì‹¤ìš©ì£¼ì˜ì', 'ê²°ê³¼ ì§€í–¥í˜•', 'ì „ëµí˜•'],
    incompatibility: ['ìˆœìˆ˜í˜•', 'ì´ìƒì£¼ì˜ì'],
  },
  psychopath: {
    type: 'psychopath',
    title: 'ìŠ¤ë¦´ ì‹œì»¤',
    emoji: 'ğŸ”¥',
    description: 'ë‹¹ì‹ ì€ ì‚¬ì´ì½”íŒ¨ì‹œ ì„±í–¥ì´ ë†’ìŠµë‹ˆë‹¤. ëŒ€ë‹´í•˜ê³  ë‘ë ¤ì›€ì´ ì ìœ¼ë©° ìƒˆë¡œìš´ ê²½í—˜ì„ ì¶”êµ¬í•©ë‹ˆë‹¤. ì¶©ë™ì„±ê³¼ ê°ì • ì¡°ì ˆì— ì£¼ì˜ê°€ í•„ìš”í•˜ë©°, íƒ€ì¸ì˜ ê°ì •ì— ë” ê´€ì‹¬ì„ ê¸°ìš¸ì¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.',
    strengths: ['ëŒ€ë‹´í•œ ë„ì „ ì •ì‹ ', 'ìŠ¤íŠ¸ë ˆìŠ¤ ì €í•­ë ¥', 'ë¹ ë¥¸ ì˜ì‚¬ê²°ì •', 'ë‘ë ¤ì›€ ì—†ëŠ” í–‰ë™ë ¥'],
    warnings: ['ì¶©ë™ì  ê²°ì •ì˜ ìœ„í—˜', 'íƒ€ì¸ ê°ì • ë¬´ì‹œ', 'ì¥ê¸°ì  ê²°ê³¼ ê³ ë ¤ ë¶€ì¡±'],
    advice: ['ê²°ì • ì „ ìˆ™ê³ í•˜ê¸°', 'ê³µê° ì—°ìŠµí•˜ê¸°', 'í–‰ë™ì˜ ê²°ê³¼ ì˜ˆì¸¡í•˜ê¸°'],
    compatibility: ['ëª¨í—˜ê°€', 'í–‰ë™íŒŒ', 'ììœ ë¡œìš´ ì˜í˜¼'],
    incompatibility: ['ì•ˆì • ì¶”êµ¬í˜•', 'ê·œì¹™ ì¤‘ì‹œí˜•'],
  },
  dark_lord: {
    type: 'dark_lord',
    title: 'ë‹¤í¬ ë¡œë“œ',
    emoji: 'ğŸ–¤',
    description: 'ë‹¹ì‹ ì€ ë‹¤í¬ íŠ¸ë¼ì´ì–´ë“œì˜ ì„¸ ê°€ì§€ íŠ¹ì„±ì´ ëª¨ë‘ ë†’ìŠµë‹ˆë‹¤. ê°•ë ¥í•œ ì¹´ë¦¬ìŠ¤ë§ˆì™€ ì „ëµì  ëŠ¥ë ¥, ëŒ€ë‹´í•¨ì„ ëª¨ë‘ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. ì´ íŠ¹ì„±ë“¤ì„ ê¸ì •ì ìœ¼ë¡œ í™œìš©í• ì§€ ì—¬ë¶€ëŠ” ë‹¹ì‹ ì˜ ì„ íƒì— ë‹¬ë ¸ìŠµë‹ˆë‹¤.',
    strengths: ['ê°•ë ¥í•œ ì˜í–¥ë ¥', 'ì „ëµì  ë¦¬ë”ì‹­', 'ëª©í‘œ ë‹¬ì„± ëŠ¥ë ¥', 'ìŠ¤íŠ¸ë ˆìŠ¤ ì €í•­ë ¥'],
    warnings: ['ê´€ê³„ ì†ìƒ ìœ„í—˜', 'ê³ ë¦½ ê°€ëŠ¥ì„±', 'ì¥ê¸°ì  ì‹ ë¢° ë¬¸ì œ'],
    advice: ['ê³µê°ëŠ¥ë ¥ ê°œë°œí•˜ê¸°', 'ìœ¤ë¦¬ì  ë¦¬ë”ì‹­ ì—°ìŠµ', 'ì§„ì •í•œ ê´€ê³„ êµ¬ì¶•'],
    compatibility: ['ê°•ì¸í•œ ì •ì‹ ë ¥ì˜ ì†Œìœ ì'],
    incompatibility: ['ë¯¼ê°í•œ ì„±ê²©', 'ìˆœìˆ˜í˜•'],
  },
  balanced: {
    type: 'balanced',
    title: 'ê· í˜•ì¡íŒ í˜„ì‹¤ì£¼ì˜ì',
    emoji: 'âš–ï¸',
    description: 'ë‹¹ì‹ ì€ ë‹¤í¬ íŠ¸ë¼ì´ì–´ë“œ ì„±í–¥ì´ ì ë‹¹í•œ ìˆ˜ì¤€ì…ë‹ˆë‹¤. ìì‹ ê°ê³¼ ì „ëµì  ì‚¬ê³ , ëŒ€ë‹´í•¨ì„ ì ì ˆíˆ ê°–ì¶”ë©´ì„œë„ íƒ€ì¸ì— ëŒ€í•œ ë°°ë ¤ë¥¼ ìƒì§€ ì•ŠìŠµë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆëŠ” ê· í˜• ì¡íŒ ì„±ê²©ì…ë‹ˆë‹¤.',
    strengths: ['ìƒí™© ì ì‘ë ¥', 'ê· í˜• ì¡íŒ íŒë‹¨', 'ì ì ˆí•œ ìê¸°ì£¼ì¥', 'ìœ ì—°í•œ ì‚¬ê³ '],
    warnings: ['ê·¹ë‹¨ì  ìƒí™©ì—ì„œ ìš°ìœ ë¶€ë‹¨', 'ë•Œë¡œëŠ” ë” ë‹¨í˜¸í•¨ í•„ìš”'],
    advice: ['ìƒí™©ì— ë§ëŠ” ëŒ€ì²˜ ìœ ì§€', 'ìì‹ ë§Œì˜ ì›ì¹™ ì •ë¦½', 'ê±´ê°•í•œ ê²½ê³„ ì„¤ì •'],
    compatibility: ['ëŒ€ë¶€ë¶„ì˜ ì„±ê²© ìœ í˜•'],
    incompatibility: ['ê·¹ë‹¨ì  ì„±í–¥'],
  },
};

export function calculateDarkTriadResult(answers: number[]): DarkTriadResult {
  // ê° íŠ¹ì„±ë³„ ì ìˆ˜ ê³„ì‚°
  let narcissismScore = 0;
  let machiavellianismScore = 0;
  let psychopathyScore = 0;

  answers.forEach((answerIndex, questionIndex) => {
    const question = questions[questionIndex];
    const option = question.options[answerIndex];

    if ('narcissism' in option) {
      narcissismScore += option.narcissism as number;
    }
    if ('machiavellianism' in option) {
      machiavellianismScore += option.machiavellianism as number;
    }
    if ('psychopathy' in option) {
      psychopathyScore += option.psychopathy as number;
    }
  });

  // ê° íŠ¹ì„±ì˜ ìµœëŒ€ ì ìˆ˜
  const narcissismMax = 30; // 6ë¬¸í•­ * 5ì 
  const machiavellianismMax = 30; // 6ë¬¸í•­ * 5ì 
  const psychopathyMax = 30; // 6ë¬¸í•­ * 5ì 

  // ë ˆë²¨ íŒì •
  const narcissismLevel = getLevel(narcissismScore, narcissismMax);
  const machiavellianismLevel = getLevel(machiavellianismScore, machiavellianismMax);
  const psychopathyLevel = getLevel(psychopathyScore, psychopathyMax);

  // ì „ì²´ ë¹„ìœ¨
  const totalMax = narcissismMax + machiavellianismMax + psychopathyMax;
  const totalScore = narcissismScore + machiavellianismScore + psychopathyScore;
  const totalPercentage = Math.round((totalScore / totalMax) * 100);

  // ì§€ë°°ì ì¸ íŠ¹ì„± ì°¾ê¸°
  const traits = [
    { name: 'ë‚˜ë¥´ì‹œì‹œì¦˜', score: narcissismScore },
    { name: 'ë§ˆí‚¤ì•„ë²¨ë¦¬ì¦˜', score: machiavellianismScore },
    { name: 'ì‚¬ì´ì½”íŒ¨ì‹œ', score: psychopathyScore },
  ];
  const dominantTrait = traits.sort((a, b) => b.score - a.score)[0].name;

  // ê²°ê³¼ ìœ í˜• ê²°ì •
  let resultType: string;
  
  const narcissismPercent = (narcissismScore / narcissismMax) * 100;
  const machiavellianismPercent = (machiavellianismScore / machiavellianismMax) * 100;
  const psychopathyPercent = (psychopathyScore / psychopathyMax) * 100;

  // ëª¨ë“  íŠ¹ì„±ì´ ë†’ìœ¼ë©´ ë‹¤í¬ ë¡œë“œ
  if (narcissismPercent > 60 && machiavellianismPercent > 60 && psychopathyPercent > 60) {
    resultType = 'dark_lord';
  }
  // ëª¨ë“  íŠ¹ì„±ì´ ë‚®ìœ¼ë©´ ë¼ì´íŠ¸ ì†Œìš¸
  else if (totalPercentage <= 35) {
    resultType = 'light';
  }
  // ì¤‘ê°„ ìˆ˜ì¤€ì´ë©´ ê· í˜•ì¡íŒ í˜„ì‹¤ì£¼ì˜ì
  else if (totalPercentage <= 55) {
    resultType = 'balanced';
  }
  // íŠ¹ì • íŠ¹ì„±ì´ ë‘ë“œëŸ¬ì§€ë©´ í•´ë‹¹ ìœ í˜•
  else if (narcissismPercent > machiavellianismPercent && narcissismPercent > psychopathyPercent) {
    resultType = 'narcissist';
  } else if (machiavellianismPercent > narcissismPercent && machiavellianismPercent > psychopathyPercent) {
    resultType = 'machiavellian';
  } else {
    resultType = 'psychopath';
  }

  const result = resultTypes[resultType];

  return {
    ...result,
    narcissismScore,
    narcissismLevel,
    machiavellianismScore,
    machiavellianismLevel,
    psychopathyScore,
    psychopathyLevel,
    totalPercentage,
    dominantTrait,
  };
}
