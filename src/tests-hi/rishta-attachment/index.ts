// ‡§≤‡§ó‡§æ‡§µ ‡§∂‡•à‡§≤‡•Ä - Attachment Style Test
// Attachment Style in Relationships

export const questions = [
  { id: 1, question: "Partner ‡§∏‡•á ‡§¶‡•Ç‡§∞ ‡§π‡•ã‡§®‡•á ‡§™‡§∞?", options: [{ text: "‡§¨‡§π‡•Å‡§§ anxiety ‡§π‡•ã‡§§‡•Ä ‡§π‡•à", type: "A" }, { text: "Miss ‡§ï‡§∞‡§§‡§æ/‡§ï‡§∞‡§§‡•Ä ‡§π‡•Ç‡§Ç ‡§™‡§∞ okay", type: "B" }, { text: "Comfortable ‡§π‡•Ç‡§Ç ‡§Ö‡§ï‡•á‡§≤‡•á", type: "C" }, { text: "Relief ‡§ú‡•à‡§∏‡§æ ‡§≤‡§ó‡§§‡§æ ‡§π‡•à", type: "D" }] },
  { id: 2, question: "Closeness ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç?", options: [{ text: "‡§¨‡§π‡•Å‡§§ ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§ö‡§æ‡§π‡§ø‡§è", type: "A" }, { text: "Healthy closeness", type: "B" }, { text: "‡§•‡•ã‡§°‡§º‡•Ä distance prefer", type: "C" }, { text: "Space ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à", type: "D" }] },
  { id: 3, question: "Partner reply late ‡§ï‡§∞‡•á?", options: [{ text: "Panic ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ/‡§ú‡§æ‡§§‡•Ä ‡§π‡•Ç‡§Ç", type: "A" }, { text: "‡§•‡•ã‡§°‡§º‡§æ wonder, ‡§™‡§∞ okay", type: "B" }, { text: "‡§ï‡•ã‡§à issue ‡§®‡§π‡•Ä‡§Ç", type: "C" }, { text: "‡§Æ‡•Å‡§ù‡•á ‡§≠‡•Ä prefer ‡§π‡•à space", type: "D" }] },
  { id: 4, question: "Reassurance ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§?", options: [{ text: "Constantly ‡§ö‡§æ‡§π‡§ø‡§è", type: "A" }, { text: "‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä", type: "B" }, { text: "‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ", type: "C" }, { text: "Independent ‡§π‡•Ç‡§Ç", type: "D" }] },
  { id: 5, question: "Vulnerability sharing?", options: [{ text: "‡§¨‡§π‡•Å‡§§ share, needy feel ‡§ï‡§≠‡•Ä", type: "A" }, { text: "Comfortable share ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç", type: "B" }, { text: "‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§π‡•à", type: "C" }, { text: "Avoid ‡§ï‡§∞‡§§‡§æ/‡§ï‡§∞‡§§‡•Ä ‡§π‡•Ç‡§Ç", type: "D" }] },
  { id: 6, question: "Conflict ‡§Æ‡•á‡§Ç?", options: [{ text: "‡§¨‡§π‡•Å‡§§ anxious, fix ‡§ï‡§∞‡§®‡§æ ‡§π‡•à ‡§§‡•Å‡§∞‡§Ç‡§§", type: "A" }, { text: "Discuss ‡§ï‡§∞‡§ï‡•á solve", type: "B" }, { text: "Space ‡§≤‡•á‡§§‡§æ/‡§≤‡•á‡§§‡•Ä ‡§π‡•Ç‡§Ç", type: "C" }, { text: "Withdraw ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ/‡§ú‡§æ‡§§‡•Ä ‡§π‡•Ç‡§Ç", type: "D" }] },
  { id: 7, question: "Partner ‡§ï‡•ã trust ‡§ï‡§∞‡§®‡§æ?", options: [{ text: "‡§¨‡§π‡•Å‡§§ trust, ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä blind", type: "A" }, { text: "Healthy trust", type: "B" }, { text: "Trust slowly build", type: "C" }, { text: "Trust ‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§π‡•à", type: "D" }] },
  { id: 8, question: "Independence vs Togetherness?", options: [{ text: "Togetherness ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ", type: "A" }, { text: "Healthy balance", type: "B" }, { text: "Independence prefer", type: "C" }, { text: "‡§¨‡§π‡•Å‡§§ independent", type: "D" }] },
  { id: 9, question: "Relationship ‡§Æ‡•á‡§Ç fear?", options: [{ text: "Abandonment ‡§ï‡§æ ‡§°‡§∞", type: "A" }, { text: "‡§ï‡•ã‡§à major fear ‡§®‡§π‡•Ä‡§Ç", type: "B" }, { text: "Too close ‡§π‡•ã‡§®‡•á ‡§ï‡§æ", type: "C" }, { text: "Trapped ‡§π‡•ã‡§®‡•á ‡§ï‡§æ", type: "D" }] },
  { id: 10, question: "Partner's needs first?", options: [{ text: "‡§π‡§æ‡§Ç, ‡§π‡§Æ‡•á‡§∂‡§æ ‡§â‡§®‡§ï‡•Ä ‡§™‡§π‡§≤‡•á", type: "A" }, { text: "Balance ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç", type: "B" }, { text: "‡§Ö‡§™‡§®‡•Ä needs ‡§≠‡•Ä important", type: "C" }, { text: "Self-first", type: "D" }] },
  { id: 11, question: "Emotional dependency?", options: [{ text: "High, partner ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞", type: "A" }, { text: "Interdependent", type: "B" }, { text: "Mostly self-reliant", type: "C" }, { text: "Very self-reliant", type: "D" }] },
  { id: 12, question: "Overall attachment?", options: [{ text: "Anxious, clingy ‡§ï‡§≠‡•Ä", type: "A" }, { text: "Secure, balanced", type: "B" }, { text: "Avoidant tendencies", type: "C" }, { text: "Dismissive, very independent", type: "D" }] },
];

export const results = {
  A: { type: "A", title: "‡§ö‡§ø‡§Ç‡§§‡§ø‡§§ ‡§≤‡§ó‡§æ‡§µ (Anxious)", emoji: "üò∞", description: "Anxious attachment style‡•§ Closeness ‡§î‡§∞ reassurance ‡§¨‡§π‡•Å‡§§ ‡§ö‡§æ‡§π‡§ø‡§è‡•§", traits: ["anxious", "clingy", "reassurance-seeking"], strengths: ["caring", "invested"], weaknesses: ["overwhelming sometimes", "fear of abandonment"], tips: ["self-soothe ‡§∏‡•Ä‡§ñ‡•á‡§Ç", "therapy helpful"] },
  B: { type: "B", title: "‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§≤‡§ó‡§æ‡§µ (Secure)", emoji: "üíö", description: "Secure attachment style! Healthy balance ‡§î‡§∞ trust‡•§", traits: ["secure", "trusting", "balanced", "comfortable"], strengths: ["healthy relationships", "good boundaries"], weaknesses: ["may attract insecure partners"], tips: ["‡§ê‡§∏‡•á ‡§π‡•Ä ‡§∞‡§π‡•á‡§Ç, great job!"] },
  C: { type: "C", title: "‡§ü‡§æ‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§≤‡§ó‡§æ‡§µ (Avoidant)", emoji: "üö∂", description: "Avoidant attachment‡•§ Independence ‡§î‡§∞ space prefer‡•§", traits: ["avoidant", "independent", "space-needing"], strengths: ["self-reliant", "not needy"], weaknesses: ["intimacy ‡§∏‡•á ‡§¶‡•Ç‡§∞", "partner ‡§ï‡•ã cold ‡§≤‡§ó‡§§‡§æ ‡§π‡•à"], tips: ["vulnerability try ‡§ï‡§∞‡•á‡§Ç", "closeness okay ‡§π‡•à"] },
  D: { type: "D", title: "‡§ñ‡§æ‡§∞‡§ø‡§ú ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡§æ (Dismissive)", emoji: "üîí", description: "Dismissive-avoidant‡•§ ‡§¨‡§π‡•Å‡§§ independent, emotional distance‡•§", traits: ["dismissive", "very independent", "distant"], strengths: ["extremely self-reliant"], weaknesses: ["intimacy avoid", "cold perception"], tips: ["connection important ‡§π‡•à", "therapy consider ‡§ï‡§∞‡•á‡§Ç"] },
};

export function calculateResult(answers: number[]): typeof results.A {
  const typeCount: Record<string, number> = { A: 0, B: 0, C: 0, D: 0 };
  answers.forEach((answerIndex, questionIndex) => {
    const question = questions[questionIndex];
    if (question && question.options[answerIndex]) {
      const type = question.options[answerIndex].type;
      typeCount[type] = (typeCount[type] || 0) + 1;
    }
  });
  const dominantType = Object.entries(typeCount).sort((a, b) => b[1] - a[1])[0][0];
  return results[dominantType as keyof typeof results];
}
